(()=>{var e={};e.id=128,e.ids=[128],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8610:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>h,tree:()=>d}),a(9370),a(7764),a(5866);var s=a(3191),r=a(8716),l=a(7922),n=a.n(l),o=a(5231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(t,i);let d=["",{children:["evaluator",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9370)),"C:\\Users\\Galih Wening\\Downloads\\landatathon-main\\landatathon-main\\frontend_datathon - Copy\\app\\evaluator\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7764)),"C:\\Users\\Galih Wening\\Downloads\\landatathon-main\\landatathon-main\\frontend_datathon - Copy\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\Galih Wening\\Downloads\\landatathon-main\\landatathon-main\\frontend_datathon - Copy\\app\\evaluator\\page.js"],c="/evaluator/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/evaluator/page",pathname:"/evaluator",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6347:(e,t,a)=>{Promise.resolve().then(a.bind(a,1703))},4846:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},534:()=>{},1703:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(326),r=a(7577),l=a(5047),n=a(6053);function o(){let[e,t]=(0,r.useState)("CHATBOT"),[a,o]=(0,r.useState)(null),[i,d]=(0,r.useState)(""),[u,c]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[p,x]=(0,r.useState)(!1),[b,g]=(0,r.useState)(""),[f,v]=(0,r.useState)([]),[j,y]=(0,r.useState)("eva123"),[w,N]=(0,r.useState)(!1),T=(0,l.useRouter)(),E=async()=>{if(!a)return alert("Silakan upload dokumen");if(!e)return alert("Mode tidak boleh kosong");x(!0);try{let t=new FormData;if(t.append("token",j||"dev123"),t.append("mode",e),t.append("file",a),"CHATBOT"===e){if(!u){alert("Input chatbot tidak boleh kosong"),x(!1);return}t.append("input_text",u)}else if("REPORT"===e){if(!m){alert("Pilih ASE family terlebih dahulu"),x(!1);return}t.append("ase_family",m)}let s=await fetch("https://ca-team-datathon-706234693396.us-central1.run.app/evaluate",{method:"POST",body:t}),r=await s.json();if(r.error)alert("Gagal: "+r.error);else{if(alert("Sukses!"),r.report_path){let e="https://ca-team-datathon-706234693396.us-central1.run.app/"+r.report_path.replace(/^\/??/,"");d(e)}"REPORT"===e&&r.results?v(r.results):"CHATBOT"===e&&(Array.isArray(r.response)?g(r.response[0]?.response||""):r.response&&g(r.response))}}catch(e){console.error(e),alert("Gagal memproses file.")}finally{x(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col md:flex-row bg-white text-gray-800",children:[(0,s.jsxs)("div",{className:"flex-1 flex flex-col justify-center items-center px-10 py-6 relative",children:[(0,s.jsxs)("div",{className:"max-w-lg w-full text-center",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-blue-800 mb-2 uppercase",children:"Evaluasi Dokumen Lebih Cerdas, Lebih Cepat"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Upload dokumen Security Target dan dapatkan evaluasi berbasis AI."}),(0,s.jsxs)("div",{className:"border-2 border-blue-300 rounded-xl p-8 bg-blue-50 shadow-inner",children:[(0,s.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer block",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("img",{src:"/upload-icon.png",className:"w-16 h-16 mb-4",alt:"Upload Icon"}),s.jsx("p",{className:"font-semibold text-gray-700",children:"Drag & drop file di sini"}),s.jsx("p",{className:"text-sm text-gray-500",children:"atau klik untuk upload"})]}),s.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:e=>{let t=e.target.files[0];t?(o(t),N(!0)):N(!1),d(""),g(""),v([])}})]}),w&&(0,s.jsxs)("p",{className:"mt-4 text-green-600 text-sm font-medium text-center",children:["File berhasil di-upload: ",s.jsx("span",{className:"font-semibold",children:a?.name})]})]}),"REPORT"===e&&f.length>0&&(0,s.jsxs)("div",{className:"mt-6 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-700",children:"Evaluation Result:"}),f.map((e,t)=>(0,s.jsxs)("div",{className:"p-4 border border-blue-200 rounded-lg bg-white shadow text-justify",children:[(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Work Unit:"})," ",e.workunit]}),s.jsx("div",{className:"text-sm text-gray-800 mt-2 whitespace-pre-line",dangerouslySetInnerHTML:{__html:n.TU.parse(e.evaluation)}})]},t)),i&&s.jsx("div",{className:"text-center mt-6",children:s.jsx("a",{href:i,download:!0,className:"inline-block bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700 transition",children:"Download Report (.docx)"})})]})]}),s.jsx("div",{className:"absolute bottom-0 left-10 text-left",children:s.jsx("img",{src:"/c-gen(2).png",className:"w-48 mb-2",alt:"Logo CA-GEN"})})]}),(0,s.jsxs)("div",{className:"w-full md:w-80 bg-blue-50 border-t md:border-t-0 md:border-l border-blue-200 flex flex-col justify-between p-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-white bg-blue-800 text-center py-3 rounded text-lg font-bold mb-4",children:"EVALUATOR PAGE"}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md text-center mb-6",children:s.jsx("img",{src:"/avatar.png",className:"w-20 h-20 mx-auto rounded-full shadow mb-2",alt:"Avatar"})}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Fitur Evaluator"}),(0,s.jsxs)("select",{className:"w-full py-2 px-3 border border-gray-300 rounded text-sm",value:e,onChange:e=>{t(e.target.value),c(""),h(""),g(""),v([])},children:[s.jsx("option",{value:"CHATBOT",children:"Chatbot"}),s.jsx("option",{value:"REPORT",children:"Evaluation Report"})]})]}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold mb-2 text-blue-700 text-center",children:"CHATBOT"===e?"Input Query":"Pilih Kategori Family"}),"CHATBOT"===e&&s.jsx("textarea",{placeholder:"Enter your evaluation query",className:"px-3 py-2 border rounded text-sm w-full h-28 resize-none",value:u,onChange:e=>c(e.target.value)}),"REPORT"===e&&(0,s.jsxs)("select",{className:"px-3 py-2 border rounded text-sm w-full",value:m,onChange:e=>h(e.target.value),children:[s.jsx("option",{value:"",children:"-- Pilih Rekomendasi --"}),["ASE_INT.1","ASE_INT.2","ASE_CCL.1","ASE_CCL.2","ASE_OBJ.1","ASE_OBJ.2","ASE_REQ.1","ASE_REQ.2","ASE_SPD.1","ASE_SPD.2","ASE_TSS.1","ASE_TSS.2"].map(e=>s.jsx("option",{value:e,children:e},e))]})]}),s.jsx("button",{onClick:E,disabled:p||"CHATBOT"===e&&!u||"REPORT"===e&&!m,className:`w-full py-2 rounded font-semibold transition text-white ${!p&&("CHATBOT"!==e||u)&&("REPORT"!==e||m)?"bg-blue-700 hover:bg-blue-800":"bg-gray-300 cursor-not-allowed"}`,children:p?"Processing...":"CHATBOT"===e?"ENTER":"GENERATE"}),"CHATBOT"===e&&b&&(0,s.jsxs)("div",{className:"mt-4 bg-white p-4 rounded-lg shadow-md text-sm text-gray-800",children:[s.jsx("h4",{className:"font-semibold text-blue-700 mb-2 text-center",children:"CA-Gen"}),s.jsx("p",{className:"whitespace-pre-wrap",children:b})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("button",{onClick:()=>T.push("/"),className:"bg-gray-800 hover:bg-gray-900 text-white py-2 rounded w-full",children:"LOGOUT"})})]})]})}},9370:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`C:\Users\Galih Wening\Downloads\landatathon-main\landatathon-main\frontend_datathon - Copy\app\evaluator\page.js#default`)},7764:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(9510);function r({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[s.jsx("head",{}),s.jsx("body",{children:e})]})}a(7633)},7633:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[819,21],()=>a(8610));module.exports=s})();